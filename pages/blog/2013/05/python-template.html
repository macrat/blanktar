pythonは標準でtemplateが使えるらしい
2013-05-17 14:31
keywords: python 標準ライブラリ テンプレートエンジン

本日は小ネタをもう一つ。<br>
pythonの標準ライブラリで簡単なテンプレートエンジンが使えるようです。<br>
いや、エンジンってほど豪華なものでもなさげだけれど。<br>
<br>
<pre class="code"><code>import string
t = string.Template('test $a, and $b')

t.safe_substitute(a='script', b=123)
</code></pre>
みたいにして使える。<br>
結果は<samp>test script, and 123</samp>ね。<br>
<pre class="code"><code>t.safe_substitute({'a':'script', 'b':123})</code></pre>
としても結果は同じです。<br>
<br>
記号をエスケープする時は<br>
<pre class="code"><code>t = string.Template('test $a, and $$b')</code></pre>
みたいに$を重ねて書けばいいみたい。<br>
<br>
識別用の文字（$aとか）は複数文字でも行ける。<br>
他の文字と続けて書きたいとき（スペースを挟みたくないとき）は、<br>
<pre class="code"><code>t = string.Template('test $a, and ${and}s')</code></pre>
とすればいいみたい。<br>
<br>
ちなみに、string.Templateにunicode型を渡すとunicodeで、str型を渡すとstrで返ってくるようです。<br>
<br>
簡単なものであれば、わざわざライブラリ用意せんでもいいかもね。<br>
楽でいいこってす。<br>
<br>
参考：<a href="http://docs.python.jp/2/library/string.html#string.Template" target="_blank">7.1. string - 一般的な文字列操作 - Python 2.7ja1 documentation</a><br>
