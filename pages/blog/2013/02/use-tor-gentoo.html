今話題（？）のTorを使ってみる - gentoo編
2013-02-27 19:33
keywords: tor gentoo linux Vidalia

<aside>
	前回：<a href="/blog/2013/02/use-tor-windows">今話題（？）のTorを使ってみる - windows編</a><br>
	次回：<a href="/blog/2013/02/use-tor-python">今話題（？）のTorを使ってみる - Python編</a><br>
	<br>
</aside>
<section>
	さて、第二回の今回はgentoo編です。<br>
	gentoo linuxに<b>Vidalia</b>ってのをセットアップして軽く使ってみるよ。<br>
	前回に引き続いて今回も簡単すぎてアレだけどね。<br>
	次回は（あるとすれば）pythonでTor越しの接続をためしてみるので、お楽しみに。<br>
	<br>
</section>
<section>
	<h3>インストール</h3>
	<pre class="code"># <kbd>emerge tor</kbd></pre>
	これだけ。何も面白いことないっす<br>
	依存関係で何かあれば、まあ適当に。<br>
	<br>
</section>
<section>
	<h3>設定を見てみる</h3>
	設定関係は<b>/etc/tor</b>にまとめてあります。<br>
	他にもあるかもしらんが、知らんっ　ここだけで問題ないっ<br>
	<br>
	設定ファイルは<b>torrc</b>。<br>
	同じディレクトリに<b>torrc.sample</b>があるので、それを見ながら設定してみてください。<br>
	他のホストから使用したい場合は<b>SocksPort</b>とか<b>SocksPolicy</b>の設定が必要になる、のかな？<br>
	ローカルだけの仕様ならいじらなくても動く、かも。<br>
	<br>
	<b>tor-tsocks.conf</b>ってのもあるんだけど、よく分からん・・・。<br>
	まあ、いじらないでも動いたから、多分大丈夫だよ、多分。<br>
	どなたかご存知でしたら教えてくらはい。<br>
	<br>
</section>
<section>
	<h3>起動する</h3>
	<pre class="code"># <kbd>/etc/init.d/tor start</kbd></pre>
	で起動出来ます。普通だね。<br>
	<pre class="code"><smp>
 * Tor configuration (/etc/tor/torrc) is valid.
 * Stating Tor ...
</samp></pre>
	とか出れば、多分成功。<br>
	<br>
	<pre class="code"><samp>Tor configuration (/etc/tor/torrc) not valid</samp></pre>
	って出た場合、設定ファイルにミスが有るはず。<br>
	エラー出力を見ると色々書いてあるので、まあ頑張って直してください<br>
	<br>
	PCの起動と同時に立ちあげたいなら<br>
	<pre class="code"># <kbd>rc-update add tor default</kbd></pre>
	っす。これもいつも通り。<br>
	<br>
	終了は<br>
	<pre class="code"># <kbd>/etc/init.d/tor stop</kbd></pre>
	ね。<br>
	<br>
</section>
<section>
	<h3>試してみる</h3>
	ここまでくればVidaliaの設定は終了、あとは使うだけです。<br>
	といっても、プロキシの設定がありますが。<br>
	お使いのブラウザの設定を開いて、プロキシを設定してください。<br>
	何も設定していなければポートは<b>9050</b>になります。<br>
	<b>socks5://127.0.0.1:9050</b>とかにすれば問題ない、かな？<br>
	<br>
	注意点として、ご覧のように<b>socks</b>っていうプロトコルを使います。<br>
	このsocksってのは中々万能なようで、http通信以外にも使えるみたいね。ま、それは次回。<br>
	<br>
	IPチェックサービスみたいのを利用してIPアドレスを確かめてみてください。海外のよう分からんプロバイダのIPになってるはず。<br>
	なってない？　ポート番号の設定とか、その辺じゃなかろうか。<br>
	<br>
</section>
<br>
<section>
	さて、これでVidaliaの設定ができたはず。<br>
	ま、ブラウジングするだけなら<b>Tor Browser</b>のlinux版使ったほうがいいと思うけどね。<br>
	インストールの必要がないし、凄く簡単。<br>
	わざわざVidaliaをセットアップするメリットはsocksを自由に使えるところにある、ような気がします。<br>
	ブラウザを変えなくていいのもメリットかな。<br>
	<br>
</section>
