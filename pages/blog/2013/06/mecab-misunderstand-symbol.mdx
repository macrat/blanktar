---
title: MeCabさんが記号を「サ変接続」と認識してしまう
pubtime: 2013-06-06T21:42+0900
modtime: 2014-03-02T01:27+0900
amp: hybrid
tags: [MeCab]
description: MeCabが記号を「サ変接続」という分類をしてしまう問題に対して、辞書ファイルを修正して対応する方法です。
---

<PS date="2014-03-02T01:27+0900" level={1}>

サ変接続の意味については[で、サ変接続とは何なのか。](/blog/2014/03/what-is-the-sahen)を御覧ください。

</PS>

MeCabに記号を食わせた時に
```
+       名詞,サ変接続,*,*,*,*,*
EOS
```
みたいになってしまう。

これは困る。凄く困る。
なんやねん、サ変接続て。「+する」とか言うんかい。

これじゃ困るので、対処。

まず、ipadicがある場所を探します。
MeCabのインストールディレクトリ内の`dic/ipadic`とかにある、かな？

で、そこにある`unk.def`ってファイルを開きます。unknown word。未知語の分類を定義してるらしい。
```
SYMBOL,1283,1283,17585,名詞,サ変接続,*,*,*,*,*
```
って書いてある行を
```
SYMBOL,1283,1283,17585,記号,一般,*,*,*,*,*
```
に変更。

それが出来たら、あとはコンパイルして終了。

先ほど編集したipadicがあるディレクトリで
``` shell
$ mecab-dict-index -f CSVファイルの文字コード -c 出力する辞書の文字コード
```
とすればおっけー。

ちなみに文字コード2つは省略可能なようです。

MeCabが起動してる時に編集しようとすると「permission denied」って言われるので注意ね。

ここまで無事できたら、
```
+       記号,一般,*,*,*,*,*
EOS
```
こんな感じで、出力が正しい感じになってるはずです。

---

参考：
- [MeCab の辞書構造と汎用テキスト変換ツールとしての利用 - MeCab document](http://mecab.googlecode.com/svn/trunk/mecab/doc/dic-detail.html)
- [MeCab: 品詞IDの定義 - MeCab document](http://mecab.googlecode.com/svn/trunk/mecab/doc/posid.html)
