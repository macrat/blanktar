starの使い方を投げやりに解説する
2013-01-08 02:47
keywords: star

巷（主に私の脳内）で大流行中の私の（自称）代表作、<a href="/works/#star">star</a>の使い方を投げやりに紹介してみるよ。<br>
<br>
<section>
	<h3>starとはなんなのか。</h3>
	ファイルをローカルLAN（つまり同じ家とか、同じwi-fiとか）の中で手軽に転送する、っていう物。<br>
	一応インターネット越しも可能なはずだけど、セキュリティとか、ポートの問題とか、まあ面倒なので割愛。<br>
	手早く手軽に、がモットーなので、暗号化とかムツカシイことは一切してない。<br>
	一応パスワードは生で送受信しないようにしてあるけれど、ファイル自体は暗号化しない。<br>
	なので、セキュアではない。見られちゃまずいものは送受信しないように。<br>
</section>
<section>
	<h3>ファイルを受け取る準備</h3>
	コンソールを開いて、
	<pre class="code"><code>star recv</code></pre>
	って打って起動。コンソールがわからない？　出直せ。<br>
	パスワードの入力を求められるので、適当に決める。<br>
	このパスワードで正しい相手か判断するので、毎回使いまわすのはアレかもね。まあ、でも適当でいい。<br>
	<br>
	シェルスクリプトとかから使いたいなら<br>
	<pre class="code"><code>star recv -m 1 --password パスワード</code></pre>
	とかってやっても良いかも。<br>
	<code class="code">-m 1</code>は一つ受信したら終了するって意味。<br>
	パスワードをスクリプト内に書き込みたくないなら<code class="code">--password-stdin</code>ってすれば、標準入力からパスワードを読み取ったりも出来る。<br>
	<br>
	逆に、しばらく受信状態で放置したいなら、<br>
	<pre class="code"><code>star recv -i</code></pre>
	ってすると、大したこと無いエラーならいちいち終了しなくなる。正直、このオプションは殆ど使ったこと無いけどね。<br>
	<br>
	それと、<code class="code">--allow-hosts</code>なんてオプションがある。<br>
	こいつは何かって言うと、文字通り受け入れるホスト名・・・ってか、IPアドレスを指定する。<br>
	複数書くならスペース区切りで。<br>
	指定しておけば許可されていないホストからは受け付けなくなるので、気休め程度のセキュリティにどうぞ。<br>
</section>
<section>
	<h3>ファイルを送る</h3>
	受信側の準備が出来たら、いよいよ送信。<br>
	いよいよって言っても、<br>
	<pre class="code"><code>star 送り先のIPアドレス ファイル名</code></pre>
	ってやるとパスワード聞かれるので、それに答えるだけ。<br>
	ファイル名はスペース区切りでいくつでも書けるし、*とかも使えるはず。<br>
	<br>
	<code class="code">--stdin</code>って付ければ、標準入力から読み取ったデータを送信してくれる便利機能もあったりする。一度も使ったことはないが。<br>
	ログ送信とかに使えるかもね。<br>
	ちなみに、<code class="code">--name ファイル名</code>も一緒に指定すると、標準入力から読んだデータの名前を指定できる。<br>
	<br>
	それと、送信するときも<code class="code">--password</code>とか<code class="code">--password-stdin</code>を使える。<br>
	シェルスクリプトで使うならどうぞ。シェルスクリプトでファイル転送なんてするのかは知らないけどさ。<br>
</section>
<br>
<br>
<br>
あんま関係ないけど、今後のstarの展望というか、願望。<br>
どうにもコンソールというのは敷居が高い気がするので、GUIのインターフェースを用意したい。<br>
でもねー、IPアドレスって概念そのものが説明するのめんどくさかったりするしねー。どうすっかねー。<br>
<br>
まあとりあえずだ。コンソール使える諸賢に関しては、是非使ってみてくれると嬉しいな。<br>
ついでに感想とか意見とかダメ出しとかくれると嬉しいな。<br>
