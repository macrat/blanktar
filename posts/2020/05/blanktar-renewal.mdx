---
title: Blanktarをリニューアルしました！
pubtime: 2020-05-03T16:09+0900
amp: hybrid
tags: [お知らせ, Next.js]
description: 2012年に作ったCMSモドキで運用してきたBlanktarですが、いい加減古臭さが目立ってきたので全面リニューアルを行ないました！ モダンな技術を色々取り込んでいます。
image: /blog/2020/05/blanktar-renewal.png
---

このWebサイトの始まりは2011年くらいだった気がします（覚えてない）
最初はGoogle Sitesを使っていました。

その後2012年に全面リニューアルを行なって、自作CMSモドキと自宅サーバでの運用が始まりました。

それ以降CMSを継ぎ接ぎしながらの運用を続けていましたが…そろそろ限界な感じがありました。
ちょっともう手を入れたくないコードになっているし、デザインも古臭く感じるようになってきたし。

というわけで、全面的なリニューアルを行ないました！

![新旧トップページ比較。かなりシンプルなデザインになった。](/blog/2020/05/blanktar-renewal.png "1280x640")

左が旧サイト、右が新サイト。かなりシンプルになりました。


# 技術スタック

なんとなくJAMstackっぽいものになっています。
ただ自分しか投稿しないので、CMSは入れずにGitHub上のリポジトリでコンテンツの管理までやっています。

- サーバ: [Vercel Now](https://vercel.com/)
- フレームワーク: [Next.js](https://nextjs.org/)
- マークアップ: [mdx](https://mdxjs.com/)


# 特徴

## AMP対応

旧サイトでもAMPに対応させたかったのですが、改修範囲が大きくなりすぎそうだったので諦めていました。
せっかくの全面改修なので、各記事のページをAMPに対応させています。


## ServiceWorkerを使ったキャッシュ

Next.js（つまりReact）を使っているので、共通するソースコードみたいのを沢山読み込む必要があります。
これが結構勿体無いので、ServiceWorkerを使ったキャッシュを導入しています。

せっかくなので、一度見た記事は数日間はオフラインでも見れるようになっています。
これ、地味に便利なんじゃないかという気がしている。


## ダークモード対応

最近流行りのダークモードに対応しています。
OSの設定によって白い背景か黒い（というか茶色い）背景が変わります。

![ライトモードのスクリーンショット。白い背景に黒い文字。](/blog/2020/05/new-blanktar-light-theme.png "320x240")
![ダークモードのスクリーンショット。茶色い背景に白い文字。](/blog/2020/05/new-blanktar-dark-theme.png "320x240")


## GitHub APIで生成されるworksページ

旧サイトのworksは手動更新だったので、完全に面倒臭くなって放置していました。
なので、[新しいサイトのworks](/works)はGitHubのAPIを使って生成するようにしてあります。


## Instagram APIで生成されるphotosページ

これは旧サイトではTumblrに飛ばしていたのですが、どちらかというとInstagramが主になりつつあるので移動しました。
ただのリンクだと格好が付かない気がしたので、こちらも[Instagram APIを使ったphotosページ](/photos)を作りました。
